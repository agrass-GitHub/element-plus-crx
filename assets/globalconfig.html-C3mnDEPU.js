import{_ as o,r as a,o as l,c,b as t,w as i,d as n,e as s,a as r}from"./app-D_uhW9Fn.js";const u={},k=n("h1",{id:"全局配置",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#全局配置"},[n("span",null,"全局配置")])],-1),d=n("p",null,[s("该组件的全局配置依附于 "),n("code",null,"ElConfigProvider"),s(" 组件的 "),n("code",null,"experimental-features"),s(" 属性中。")],-1),v=n("p",null,"这是非常重要且方便的功能，可以非常轻松地为表格，表格分页，表单组件添加全局配置，比如智能生成 placeholder 属性, 为日期组件智能设置格式化等。",-1),m=r(`<div class="language-vue line-numbers-mode" data-ext="vue" data-title="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>demo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ElConfigProvider</span> <span class="token attr-name">:locale</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zhCn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:experimental-features</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ ElementPlusCrx }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BaseForm</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BaseForm</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BaseTable</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BaseTable</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ElConfigProvider</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> zhCn <span class="token keyword">from</span> <span class="token string">&#39;element-plus/es/locale/lang/zh-cn&#39;</span>
<span class="token keyword">import</span> BaseForm <span class="token keyword">from</span> <span class="token string">&#39;./formGrid.vue&#39;</span>
<span class="token keyword">import</span> BaseTable <span class="token keyword">from</span> <span class="token string">&#39;./tableBase.vue&#39;</span>
<span class="token keyword">import</span> type <span class="token punctuation">{</span> ElementPlusCrxConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../packages&quot;</span>

<span class="token keyword">const</span> <span class="token literal-property property">ElementPlusCrx</span><span class="token operator">:</span> ElementPlusCrxConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">AgelTable</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">ElTable</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">border</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">highlightCurrentRow</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ElPagination</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">layout</span><span class="token operator">:</span> <span class="token string">&#39;prev, pager, next, sizes, -&gt;, total&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">pageSizes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ElTableColumn</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">showOverflowTooltip</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">AgelFormItem</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">AgelSelect</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">&#39;请选择&#39;</span> <span class="token operator">+</span> props<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">ElInput</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">clearable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">&#39;请输入&#39;</span> <span class="token operator">+</span> props<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">ElDatePicker</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> valueFormat <span class="token operator">=</span> <span class="token string">&#39;YYYY-MM-DD&#39;</span>
      <span class="token keyword">let</span> dateType <span class="token operator">=</span> props<span class="token operator">?.</span>attrs<span class="token operator">?.</span>type
      <span class="token keyword">if</span> <span class="token punctuation">(</span>dateType <span class="token operator">==</span> <span class="token string">&quot;datetime&quot;</span> <span class="token operator">||</span> dateType <span class="token operator">==</span> <span class="token string">&quot;datetimerange&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        valueFormat <span class="token operator">=</span> <span class="token string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>dateType <span class="token operator">==</span> <span class="token string">&quot;month&quot;</span> <span class="token operator">||</span> dateType <span class="token operator">==</span> <span class="token string">&quot;monthrange&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        valueFormat <span class="token operator">=</span> <span class="token string">&quot;YYYY-MM&quot;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>dateType <span class="token operator">==</span> <span class="token string">&quot;year&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        valueFormat <span class="token operator">=</span> <span class="token string">&quot;YYYY&quot;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        valueFormat<span class="token punctuation">,</span>
        <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">&#39;请选择&#39;</span> <span class="token operator">+</span> props<span class="token punctuation">.</span>label<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>支持配置类型如下：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ElementPlusCrxConfig</span> <span class="token punctuation">{</span>
  AgelTable<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ElTable<span class="token operator">?</span><span class="token operator">:</span> Partial<span class="token operator">&lt;</span>TableProps<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">,</span>
    ElTableColumn<span class="token operator">?</span><span class="token operator">:</span> Partial<span class="token operator">&lt;</span>ElTableColumnProps<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    ElPagination<span class="token operator">?</span><span class="token operator">:</span> Partial<span class="token operator">&lt;</span>PaginationProps<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  AgelFormItem<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>ComponentName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span>ComponentProps<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>ComponentProp<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useCrxGlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ElementPlusCrxConfig <span class="token punctuation">{</span>
  <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">useGlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token keyword">as</span> <span class="token builtin">any</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>config <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>experimentalFeatures <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>experimentalFeatures<span class="token punctuation">.</span>ElementPlusCrx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3);function b(g,y){const p=a("globalconfig"),e=a("ClientOnly");return l(),c("div",null,[k,d,v,t(e,null,{default:i(()=>[t(p)]),_:1}),m])}const q=o(u,[["render",b],["__file","globalconfig.html.vue"]]),w=JSON.parse('{"path":"/globalconfig.html","title":"全局配置","lang":"en-US","frontmatter":{},"headers":[],"git":{"updatedTime":1678438030000,"contributors":[{"name":"agrass","email":"992951674@qq.com","commits":2}]},"filePathRelative":"globalconfig.md"}');export{q as comp,w as data};
